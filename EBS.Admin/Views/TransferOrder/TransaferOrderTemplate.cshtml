@model EBS.Query.DTO.TransferOrderDto
<div class="">
    <div class="row">
        <div class="col-xs-4 col-sm-4"></div>
        <div class="col-xs-4 col-sm-4"><h3 class="text-center text-danger" style="border-bottom:2px solid;padding-bottom:1px;"><b>调 拨 单</b></h3></div>
        <div class="col-xs-4 col-sm-4"></div>
    </div>
    <div class="row">
        <div class="col-xs-4 col-sm-4">
            <span>调出门店：{{model.fromStoreName}}</span>
        </div>
        <div class="col-xs-4 col-sm-4 text-center">
        </div>
        <div class="col-xs-4 col-sm-4 ">
            <span>单据号：</span>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-4 col-sm-4">
            <span>调入门店：{{model.toStoreName}}</span>
        </div>
        <div class="col-xs-4 col-sm-4 text-center">
            单据状态：@ViewBag.Status
        </div>
        <div class="col-xs-4 col-sm-4">
            <span>制单日期：@DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss")</span>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-12">
            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th></th>
                            <th>序号</th>
                            <th>商品编码</th>
                            <th>条码</th>
                            <th>品名</th>
                            <th>规格</th>
                            <th>单位</th>
                            <th>进价</th>
                            <th>库存</th>
                            <th>件规</th>
                            <th>件数</th>
                            <th>数量</th>
                            <th>金额</th>
                            <th>批次</th>
                        </tr>
                    </thead>
                    <tbody id="tbody">
                        <tr v-for="(index,item) in products">
                            <td>
                                <button type="button" class="btn btn-flat  btn-sm" title="添加行" v-on:click="addRow($event)"><span class="fa fa-plus"></span></button>
                                <button type="button" class="btn btn-flat  btn-sm" v-show="index>0" title="删除行" v-on:click="removeRow(index)"><span class="fa fa-trash"></span></button>
                            </td>
                            <td class="text-center">{{index+1}}</td>
                            <td>
                                <input type="text" class="form-control productCode" v-model="item.ProductCode" v-on:keyup.enter="inputProduct(item.ProductCode,index)" placeholder="录入编码或扫码" />
                            </td>
                            <td>{{item.BarCode}}</td>
                            <td>{{item.ProductName}}</td>
                            <td>{{item.Specification}}</td>
                            <td>{{item.Unit}}</td>
                            <td>{{item.Price.toFixed(4)}}</td>
                            <td>{{item.InventoryQuantity}}</td>
                            <td>
                                <select class="form-control" v-model="item.SpecificationQuantity">
                                    <option v-for="option in item.SpecificationQuantitys" v-bind:value="option">
                                        1 × {{ option }}
                                    </option>
                                </select>
                            </td>
                            <td>{{item.PackageQuantity}}</td>
                            <td>
                                <input type="number" class="form-control quantity" v-model="item.Quantity" v-on:keyup.enter="inputNext($event)" v-on:keyup.right="showBatch(index)" />
                            </td>
                            <td>{{item.Amount.toFixed(2)}}</td>
                            <td>{{item.BatchNo}}</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td></td>
                            <td></td>
                            <td>合计：</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>{{totalQuantity}}</td>
                            <td>{{countTotal.toFixed(2)}}</td>
                            <td></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-3 col-sm-3">
            <span>制单人： @ViewBag.CreatedByName</span>
        </div>
        <div class="col-xs-3 col-sm-3">
            <span></span>
        </div>
        <div class="col-xs-3 col-sm-3">
            <span>审核人：</span>
        </div>
        <div class="col-xs-3 col-sm-3">
            <span></span>
        </div>
    </div>
</div>
